<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Модальное окно с вертикальной разделяющей полосой</title>
    <link rel="stylesheet" href="static/styles.css">
</head>
<body>

    <img src="https://www.newstaff.ru/2023/11/17/1521655b9e77ea3f390b41f5ec89f3f10a67cb59.jpg" alt="" class="image1">
    <img src="https://i2.wp.com/miro.medium.com/1*29NeeIGT0BElEBNfzE_VlQ.jpeg" alt="" class="image2">

    <!--ЦЕНТРАЛЬНО ОКНО-->
    <div class="container">
        <h1>Что-то странное</h1>
        <button class="button" id="addPair">Добавить пару</button>
        <button class="button" id="deletePair">Удалить пару</button>
        <button class="button" id="replacePair">Изменить пару</button>
        <button class="button" id="openLinkButton">Гугл календарь</button>
        <button class="button" id="occupancy">Занятость кабинета</button>

        <!--ПРИВЕДЕННЫЕ НИЖЕ ДВЕ КНОПКИ ПОКА БЕЗ ФУНКЦИОНАЛА-->
        <button class="button">Обновить данные</button>
        <button class="button">Запуск парсера</button>

        <!--Занятость кабинета-->
        <div id="myModal3" class="modal">
            <div class="modal-content">
                <span class="close" id="closeOccupancy">&times;</span>
                <p style="font-size: 20px;">Занятость кабинета</p>
                <form id="modalForm">
                    <label for="time">Время начала:</label>
                    <input type="time" id="start-time" name="start-time" required>
                    <label for="end-time">Время конца:</label>
                    <input type="time" id="end-time" name="end-time" required>
                    <label for="room">Кабинет:</label>
                    <select id="room" name="room" required>
                        <option value="it-1">it-1</option>
                        <option value="it-2">it-2</option>
                        <option value="it-3">it-3</option>
                        <option value="it-4">it-4</option>
                        <option value="it-5">it-5</option>
                        <option value="it-6">it-6</option>
                        <option value="it-7">it-7</option>
                        <option value="it-8">it-8</option>
                        <option value="it-9">it-9</option>
                        <option value="it-10">it-10</option>
                        <option value="it-11">it-11</option>
                        <option value="it-12">it-12</option>
                        <option value="it-13">it-13</option>
                        <option value="it-14">it-14</option>
                        <option value="it-15">it-15</option>
                        <option value="it-16">it-16</option>
                        <option value="it-17">it-17</option>
                        <option value="320">320</option>
                        <option value="322">322</option>
                    </select>
                    <label for="date">Выбор даты:</label>
                    <input type="date" id="date" name="date" required>
                    <button type="submit" class="sendbutton">Отправить</button>
                </form>
            </div>
        </div>

        <!-- Модальное окно для "ДОБАВЛЕНИЯ ПАРЫ" -->
        <div id="myModal1" class="modal">
            <div class="modal-content">
                <span class="close" id="closeModalAdd">&times;</span>
                <p style="font-size: 20px;">Добавление пары</p>

                <form id="modalForm">
                    <label for="teacher">Фамилия преподователя:</label>
                    <input type="text" id="teacher" name="teacher" required>
                    <label for="subject">Предмет:</label>
                    <input type="text" id="subject" name="subject" required>
                    <label for="subject">Группа:</label>
                    <input type="text" id="group" name="group" required>
                    <label for="time">Время начала:</label>
                    <input type="time" id="start-time" name="start-time" required>
                    <label for="end-time">Время конца:</label>
                    <input type="time" id="end-time" name="end-time" required>
                    <label for="room">Кабинет:</label>
                    <select id="room" name="room" required>
                        <option value="it-1">it-1</option>
                        <option value="it-2">it-2</option>
                        <option value="it-3">it-3</option>
                        <option value="it-4">it-4</option>
                        <option value="it-5">it-5</option>
                        <option value="it-6">it-6</option>
                        <option value="it-7">it-7</option>
                        <option value="it-8">it-8</option>
                        <option value="it-9">it-9</option>
                        <option value="it-10">it-10</option>
                        <option value="it-11">it-11</option>
                        <option value="it-12">it-12</option>
                        <option value="it-13">it-13</option>
                        <option value="it-14">it-14</option>
                        <option value="it-15">it-15</option>
                        <option value="it-16">it-16</option>
                        <option value="it-17">it-17</option>
                        <option value="320">320</option>
                        <option value="322">322</option>
                    </select>
                    <label for="date">Выбор даты:</label>
                    <input type="date" id="date" name="date" required>
                    <label for="type">Выбор типа:</label>
                    <select name="type" id="type" required>
                        <option value="Одноразовый">Одноразовый</option>
                        <option value="Еженедельный">Еженедельный</option>
                    </select>
                    <button type="submit" class="sendbutton">Отправить</button>
                </form>
            </div>
        </div>

        <!--Модальное окно для "УДАЛЕНИЯ ПАРЫ"-->
        <div id="myModal2" class="modal">
            <div class="modal-content">
                <span class="close" id="closeModalDel">&times;</span>
                <p style="font-size: 20px;">Удаление пары</p>

                <form id="modalForm">
                    <label for="teacher">Фамилия преподователя:</label>
                    <input type="text" id="teacher" name="teacher" required>
                    <label for="subject">Предмет:</label>
                    <input type="text" id="subject" name="subject" required>
                    <label for="subject">Группа:</label>
                    <input type="text" id="group" name="group" required>
                    <label for="time">Время начала:</label>
                    <input type="time" id="start-time" name="start-time" required>
                    <label for="end-time">Время конца:</label>
                    <input type="time" id="end-time" name="end-time" required>
                    <label for="room">Кабинет:</label>
                    <select name="room" id="room" required>
                        <option value="it-1">it-1</option>
                        <option value="it-2">it-2</option>
                        <option value="it-3">it-3</option>
                        <option value="it-4">it-4</option>
                        <option value="it-5">it-5</option>
                        <option value="it-6">it-6</option>
                        <option value="it-7">it-7</option>
                        <option value="it-8">it-8</option>
                        <option value="it-9">it-9</option>
                        <option value="it-10">it-10</option>
                        <option value="it-11">it-11</option>
                        <option value="it-12">it-12</option>
                        <option value="it-13">it-13</option>
                        <option value="it-14">it-14</option>
                        <option value="it-15">it-15</option>
                        <option value="it-16">it-16</option>
                        <option value="it-17">it-17</option>
                        <option value="320">320</option>
                        <option value="322">322</option>
                    </select>
                    <label for="date">Выбор даты:</label>
                    <input type="date" id="date" name="date" required>
                    <label for="del">Сколько пар удалить:</label>
                    <select name="del" id="del" required>
                        <option value="1">одну</option>
                        <option value="все">все</option>
                    </select>
                    <button type="submit" class="sendbutton">Отправить</button>
                </form>
            </div>
        </div>

        <!-- МОДАЛЬНОЕ ОКНО ДЛЯ ИЗМЕНЕНИЯ ПАРЫ-->
        <div id="modal3" class="modal">
            <div class="modal-content1">
                <span class="close" id="closeReplace">&times;</span>
                <div class="left-section">
                    <p style="font-size: 20px;">Что меняем</p>
                    <form id="modalForm">
                        <label for="teacher">Фамилия преподователя:</label>
                        <input type="text" id="teacher" name="teacher" required>
                        <label for="subject">Предмет:</label>
                        <input type="text" id="subject" name="subject" required>
                        <label for="subject">Группа:</label>
                        <input type="text" id="group" name="group" required>
                        <label for="time">Время начала:</label>
                        <input type="time" id="start-time" name="start-time" required>
                        <label for="end-time">Время конца:</label>
                        <input type="time" id="end-time" name="end-time" required>
                        <label for="room">Кабинет:</label>
                        <select id="room" name="room" required>
                            <option value="it-1">it-1</option>
                            <option value="it-2">it-2</option>
                            <option value="it-3">it-3</option>
                            <option value="it-4">it-4</option>
                            <option value="it-5">it-5</option>
                            <option value="it-6">it-6</option>
                            <option value="it-7">it-7</option>
                            <option value="it-8">it-8</option>
                            <option value="it-9">it-9</option>
                            <option value="it-10">it-10</option>
                            <option value="it-11">it-11</option>
                            <option value="it-12">it-12</option>
                            <option value="it-13">it-13</option>
                            <option value="it-14">it-14</option>
                            <option value="it-15">it-15</option>
                            <option value="it-16">it-16</option>
                            <option value="it-17">it-17</option>
                            <option value="320">320</option>
                            <option value="322">322</option>
                        </select>
                        <label for="date">Выбор даты:</label>
                        <input type="date" id="date" name="date" required>
                        <label for="type">Выбор типа:</label>
                        <select name="type" id="type" required>
                            <option value="Одноразовый">Одноразовый</option>
                            <option value="Еженедельный">Еженедельный</option>
                        </select>
                    </form>
                </div>

                <div class="right-section">
                    <p style="font-size: 20px;">На что меняем</p>
                    <form id="modalForm">
                        <label for="teacher">Фамилия преподователя:</label>
                        <input type="text" id="teacher" name="teacher" required>
                        <label for="subject">Предмет:</label>
                        <input type="text" id="subject" name="subject" required>
                        <label for="subject">Группа:</label>
                        <input type="text" id="group" name="group" required>
                        <label for="time">Время начала:</label>
                        <input type="time" id="start-time" name="start-time" required>
                        <label for="end-time">Время конца:</label>
                        <input type="time" id="end-time" name="end-time" required>
                        <label for="room">Кабинет:</label>
                        <select name="room" id="room" required>
                            <option value="it-1">it-1</option>
                            <option value="it-2">it-2</option>
                            <option value="it-3">it-3</option>
                            <option value="it-4">it-4</option>
                            <option value="it-5">it-5</option>
                            <option value="it-6">it-6</option>
                            <option value="it-7">it-7</option>
                            <option value="it-8">it-8</option>
                            <option value="it-9">it-9</option>
                            <option value="it-10">it-10</option>
                            <option value="it-11">it-11</option>
                            <option value="it-12">it-12</option>
                            <option value="it-13">it-13</option>
                            <option value="it-14">it-14</option>
                            <option value="it-15">it-15</option>
                            <option value="it-16">it-16</option>
                            <option value="it-17">it-17</option>
                            <option value="320">320</option>
                            <option value="322">322</option>
                        </select>
                        <label for="date">Выбор даты:</label>
                        <input type="date" id="date" name="date" required>
                        <label for="del">Сколько пар удалить:</label>
                        <select name="del" id="del" required>
                            <option value="1">одну</option>
                            <option value="все">все</option>
                        </select>
                    </form>
                </div>
                <button type="submit" class="sendbutton">Отправить</button>
            </div>
        </div>
    </div>

    <script>

        // Для добавления пары
        var modal1 = document.getElementById("myModal1");
        var add = document.getElementById('addPair');
        var span1 = document.getElementById('closeModalAdd');

        // Для удаления пары
        var modal2 = document.getElementById("myModal2");
        var del = document.getElementById('deletePair');
        var span2 = document.getElementById('closeModalDel');

        // Для замены пары
        var modal3 = document.getElementById('modal3');
        var replace = document.getElementById('replacePair');
        var span3 = document.getElementById('closeReplace');

        // Для занятости кабинета
        var modal4 = document.getElementById("myModal3");
        var occup = document.getElementById("occupancy")
        var span4 = document.getElementById("closeOccupancy")

        function open_mw_add_pair() {
            modal1.style.display = 'block';
            let form = document.querySelector("#myModal1 > div > form");
            var submit_btn = form.querySelector(".sendbutton")
            submit_btn.onclick = function () {
                var teacher = form.querySelector("#teacher");
                var subject = form.querySelector("#subject");
                var group = form.querySelector("#group");
                var start_time = form.querySelector("#start-time");
                var end_time = form.querySelector("#end-time");
                var cab = form.querySelector("#room");

                const response = fetch("/add_pair", {
                    method: "PUT",
                    body: JSON.stringify({
                        teacher: teacher.value,
                        subject: subject.value,
                        cabinet: cab.value,
                        start_time: start_time.value,
                        end_time: end_time.value
                    })
                })
            }
        }

        function close_mw_add_pair() {
            modal1.style.display = 'none';
        }

        function open_mw_delete_pair() {
            modal2.style.display = 'block';
        }

        function close_mw_delete_pair() {
            modal2.style.display = 'none';
        }

        function open_mw_replace_pair() {
            modal3.style.display = 'block';
        }

        function close_mw_replace_pair() {
            modal3.style.display = 'none';
        }

        function open_mw_replace_occup() {
            modal4.style.display = 'block';
        }

        function close_mw_replace_occup() {
            modal4.style.display = 'none';
        }

        add.addEventListener("click", open_mw_add_pair);
        span1.addEventListener("click", close_mw_add_pair);

        del.addEventListener("click", open_mw_delete_pair);
        span2.addEventListener("click", close_mw_delete_pair);

        replace.addEventListener("click", open_mw_replace_pair);
        span3.addEventListener("click", close_mw_replace_pair);

        occup.addEventListener("click", open_mw_replace_occup);
        span4.addEventListener("click", close_mw_replace_occup);

        document.getElementById("openLinkButton").onclick = function () {
            window.open("https://calendar.google.com/calendar/u/0?cid=ZjI1MzQ0ZTI2NDlkOTY3Yzc4NTY2YTA2MWEwNmZhZTY0OTBhMTYyYzlhN2I2NzhlNjFlNjE3MWYxZmFjMzdjMEBncm91cC5jYWxlbmRhci5nb29nbGUuY29t");
        }

        window.onclick = function (event) {
            if (event.target == modal1) {
                modal1.style.display = 'none';
            } else if (event.target == modal2) {
                modal2.style.display = 'none';
            } else if (event.target == modal3) {
                modal3.style.display = 'none';
            } else if (event.target == modal4) {
                modal4.style.display = 'none';
            }
        }

    </script>

</body>
</html>
